"use strict";
var util = require("../../utils/util.js");
var _context;
Page({
    data: {
        logs: [],
        curDay: "",
        addUserInfo: "",
        studyStatus: 0,
        isClicked: false,
    },
    onLoad: function () {
        _context = this;
        var time = util.formatTime(new Date());
        var getDay = time.split(" ")[0];
        this.setData({
            curDay: getDay,
        });
        var db = wx.cloud.database();
        db.collection("todolist").get({
            success: function (e) {
                if (e.data.pop()["curDay"] === getDay) {
                    _context.data.isClicked = true;
                }
            },
        });
    },
    setUser: function (e) {
        _context.setData({
            addUserInfo: e.detail.value,
        });
    },
    addUser: function () {
        if (_context.data.addUserInfo === "test 2" ||
            _context.data.addUserInfo === "test 3") {
            wx.setStorage({
                key: "userId",
                data: _context.data.addUserInfo,
                success: function () {
                    wx.navigateTo({
                        url: "../index/index",
                    });
                },
            });
        }
        else {
            wx.showModal({
                title: "邀请码不正确，请重新输入",
                showCancel: false,
            });
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9ncy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvZ3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBRTFDLElBQUksUUFBYSxDQUFDO0FBRWxCLElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLElBQUksRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLEVBQUU7UUFDVixXQUFXLEVBQUUsRUFBRTtRQUNmLFdBQVcsRUFBRSxDQUFDO1FBQ2QsU0FBUyxFQUFFLEtBQUs7S0FDakI7SUFDRCxNQUFNLEVBQU47UUFDRSxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBR2hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLE1BQU0sRUFBRSxNQUFNO1NBQ2YsQ0FBQyxDQUFDO1FBRUgsSUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMvQixFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUM1QixPQUFPLEVBQUUsVUFBQyxDQUFNO2dCQUVkLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxNQUFNLEVBQUU7b0JBQ3JDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztpQkFDaEM7WUFDSCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELE9BQU8sRUFBRSxVQUFDLENBQU07UUFDZCxRQUFRLENBQUMsT0FBTyxDQUFDO1lBQ2YsV0FBVyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSztTQUM1QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsT0FBTyxFQUFFO1FBQ1AsSUFDRSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxRQUFRO1lBQ3RDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxLQUFLLFFBQVEsRUFFdEM7WUFhQSxFQUFFLENBQUMsVUFBVSxDQUFDO2dCQUNaLEdBQUcsRUFBRSxRQUFRO2dCQUNiLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVc7Z0JBQy9CLE9BQU8sRUFBRTtvQkFDUCxFQUFFLENBQUMsVUFBVSxDQUFDO3dCQUNaLEdBQUcsRUFBRSxnQkFBZ0I7cUJBQ3RCLENBQUMsQ0FBQztnQkFDTCxDQUFDO2FBQ0YsQ0FBQyxDQUFDO1NBQ0o7YUFBTTtZQUNMLEVBQUUsQ0FBQyxTQUFTLENBQUM7Z0JBQ1gsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLFVBQVUsRUFBRSxLQUFLO2FBQ2xCLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGxvZ3MudHNcbnZhciB1dGlsID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3V0aWwuanNcIik7XG5cbmxldCBfY29udGV4dDogYW55O1xuXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIGxvZ3M6IFtdLFxuICAgIGN1ckRheTogXCJcIixcbiAgICBhZGRVc2VySW5mbzogXCJcIixcbiAgICBzdHVkeVN0YXR1czogMCxcbiAgICBpc0NsaWNrZWQ6IGZhbHNlLFxuICB9LFxuICBvbkxvYWQoKSB7XG4gICAgX2NvbnRleHQgPSB0aGlzO1xuXG4gICAgLy8g6I635Y+W5LuK5aSp55qE5pe26Ze0XG4gICAgbGV0IHRpbWUgPSB1dGlsLmZvcm1hdFRpbWUobmV3IERhdGUoKSk7XG4gICAgY29uc3QgZ2V0RGF5ID0gdGltZS5zcGxpdChcIiBcIilbMF07XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIGN1ckRheTogZ2V0RGF5LFxuICAgIH0pO1xuXG4gICAgY29uc3QgZGIgPSB3eC5jbG91ZC5kYXRhYmFzZSgpO1xuICAgIGRiLmNvbGxlY3Rpb24oXCJ0b2RvbGlzdFwiKS5nZXQoe1xuICAgICAgc3VjY2VzczogKGU6IGFueSkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhlLmRhdGEucG9wKClbXCJjdXJEYXlcIl0sIFwidGVzdCBnZXQgc29tZXRoaW5nXCIsIGdldERheSk7XG4gICAgICAgIGlmIChlLmRhdGEucG9wKClbXCJjdXJEYXlcIl0gPT09IGdldERheSkge1xuICAgICAgICAgIF9jb250ZXh0LmRhdGEuaXNDbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcbiAgc2V0VXNlcjogKGU6IGFueSkgPT4ge1xuICAgIF9jb250ZXh0LnNldERhdGEoe1xuICAgICAgYWRkVXNlckluZm86IGUuZGV0YWlsLnZhbHVlLFxuICAgIH0pO1xuICB9LFxuICBhZGRVc2VyOiAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgX2NvbnRleHQuZGF0YS5hZGRVc2VySW5mbyA9PT0gXCJ0ZXN0IDJcIiB8fCBcbiAgICAgIF9jb250ZXh0LmRhdGEuYWRkVXNlckluZm8gPT09IFwidGVzdCAzXCJcbiAgICAgIC8vIOWmguaenOeUqOaIt+W9k+WkqeW3sue7j+W+gOaVsOaNruW6k+mHjOaPkuWFpea2iOaBr+S6hu+8jOatpOaXtuWwseS4jeiDveWGjeaPkua2iOaBr1xuICAgICkge1xuICAgICAgLy8gZGIuY29sbGVjdGlvbihcInRvZG9saXN0XCIpLmFkZCh7XG4gICAgICAvLyAgIGRhdGE6IHtcbiAgICAgIC8vICAgICBvcGVuaWQ6IF9jb250ZXh0LmRhdGEuYWRkVXNlckluZm8sXG4gICAgICAvLyAgICAgZG9uZTogdHJ1ZSxcbiAgICAgIC8vICAgICBjdXJEYXk6IF9jb250ZXh0LmRhdGEuY3VyRGF5LFxuICAgICAgLy8gICB9LFxuICAgICAgLy8gICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgICAvLyAgICAgd3gubmF2aWdhdGVUbyh7XG4gICAgICAvLyAgICAgICB1cmw6IFwiLi4vaW5kZXgvaW5kZXhcIixcbiAgICAgIC8vICAgICB9KTtcbiAgICAgIC8vICAgfSxcbiAgICAgIC8vIH0pO1xuICAgICAgd3guc2V0U3RvcmFnZSh7XG4gICAgICAgIGtleTogXCJ1c2VySWRcIixcbiAgICAgICAgZGF0YTogX2NvbnRleHQuZGF0YS5hZGRVc2VySW5mbyxcbiAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICAgIHd4Lm5hdmlnYXRlVG8oe1xuICAgICAgICAgICAgdXJsOiBcIi4uL2luZGV4L2luZGV4XCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3guc2hvd01vZGFsKHtcbiAgICAgICAgdGl0bGU6IFwi6YKA6K+356CB5LiN5q2j56Gu77yM6K+36YeN5paw6L6T5YWlXCIsXG4gICAgICAgIHNob3dDYW5jZWw6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufSk7XG4iXX0=