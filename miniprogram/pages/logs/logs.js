"use strict";
var util = require("../../utils/util.js");
var _context;
Page({
    data: {
        logs: [],
        curDay: "",
        addUserInfo: "",
        studyStatus: 0,
        isClicked: false,
    },
    onLoad: function () {
        _context = this;
        var time = util.formatTime(new Date());
        var getDay = time.split(" ")[0];
        this.setData({
            curDay: getDay,
        });
        var db = wx.cloud.database();
        db.collection("todolist").get({
            success: function (e) {
                if (e.data.pop()["curDay"] === getDay) {
                    _context.data.isClicked = true;
                }
            },
        });
    },
    setUser: function (e) {
        _context.setData({
            addUserInfo: e.detail.value,
        });
    },
    addUser: function () {
        console.log(_context.data.addUserInfo);
        if (_context.data.addUserInfo === "test 2") {
            wx.navigateTo({
                url: "../index/index",
            });
        }
        else {
            wx.showModal({
                title: "邀请码不正确，请重新输入",
                showCancel: false,
            });
        }
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9ncy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvZ3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBRTFDLElBQUksUUFBYSxDQUFDO0FBRWxCLElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLElBQUksRUFBRSxFQUFFO1FBQ1IsTUFBTSxFQUFFLEVBQUU7UUFDVixXQUFXLEVBQUUsRUFBRTtRQUNmLFdBQVcsRUFBRSxDQUFDO1FBQ2QsU0FBUyxFQUFFLEtBQUs7S0FDakI7SUFDRCxNQUFNLEVBQU47UUFDRSxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBR2hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLE1BQU0sRUFBRSxNQUFNO1NBQ2YsQ0FBQyxDQUFDO1FBRUgsSUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMvQixFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUM1QixPQUFPLEVBQUUsVUFBQyxDQUFNO2dCQUVkLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxNQUFNLEVBQUU7b0JBQ3JDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztpQkFDaEM7WUFDSCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELE9BQU8sRUFBRSxVQUFDLENBQU07UUFDZCxRQUFRLENBQUMsT0FBTyxDQUFDO1lBQ2YsV0FBVyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSztTQUM1QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsT0FBTyxFQUFFO1FBRVAsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3ZDLElBQ0UsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssUUFBUSxFQUl0QztZQWFBLEVBQUUsQ0FBQyxVQUFVLENBQUM7Z0JBQ1osR0FBRyxFQUFFLGdCQUFnQjthQUN0QixDQUFDLENBQUM7U0FDSjthQUFNO1lBQ0wsRUFBRSxDQUFDLFNBQVMsQ0FBQztnQkFDWCxLQUFLLEVBQUUsY0FBYztnQkFDckIsVUFBVSxFQUFFLEtBQUs7YUFDbEIsQ0FBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbG9ncy50c1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvdXRpbC5qc1wiKTtcblxubGV0IF9jb250ZXh0OiBhbnk7XG5cblBhZ2Uoe1xuICBkYXRhOiB7XG4gICAgbG9nczogW10sXG4gICAgY3VyRGF5OiBcIlwiLFxuICAgIGFkZFVzZXJJbmZvOiBcIlwiLFxuICAgIHN0dWR5U3RhdHVzOiAwLFxuICAgIGlzQ2xpY2tlZDogZmFsc2UsXG4gIH0sXG4gIG9uTG9hZCgpIHtcbiAgICBfY29udGV4dCA9IHRoaXM7XG5cbiAgICAvLyDojrflj5bku4rlpKnnmoTml7bpl7RcbiAgICBsZXQgdGltZSA9IHV0aWwuZm9ybWF0VGltZShuZXcgRGF0ZSgpKTtcbiAgICBjb25zdCBnZXREYXkgPSB0aW1lLnNwbGl0KFwiIFwiKVswXTtcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgY3VyRGF5OiBnZXREYXksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYiA9IHd4LmNsb3VkLmRhdGFiYXNlKCk7XG4gICAgZGIuY29sbGVjdGlvbihcInRvZG9saXN0XCIpLmdldCh7XG4gICAgICBzdWNjZXNzOiAoZTogYW55KSA9PiB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGUuZGF0YS5wb3AoKVtcImN1ckRheVwiXSwgXCJ0ZXN0IGdldCBzb21ldGhpbmdcIiwgZ2V0RGF5KTtcbiAgICAgICAgaWYgKGUuZGF0YS5wb3AoKVtcImN1ckRheVwiXSA9PT0gZ2V0RGF5KSB7XG4gICAgICAgICAgX2NvbnRleHQuZGF0YS5pc0NsaWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxuICBzZXRVc2VyOiAoZTogYW55KSA9PiB7XG4gICAgX2NvbnRleHQuc2V0RGF0YSh7XG4gICAgICBhZGRVc2VySW5mbzogZS5kZXRhaWwudmFsdWUsXG4gICAgfSk7XG4gIH0sXG4gIGFkZFVzZXI6ICgpID0+IHtcbiAgICAvLyBjb25zdCBkYiA9IHd4LmNsb3VkLmRhdGFiYXNlKCk7XG4gICAgY29uc29sZS5sb2coX2NvbnRleHQuZGF0YS5hZGRVc2VySW5mbyk7XG4gICAgaWYgKFxuICAgICAgX2NvbnRleHQuZGF0YS5hZGRVc2VySW5mbyA9PT0gXCJ0ZXN0IDJcIlxuICAgICAgLy8gICYmXG4gICAgICAvLyBfY29udGV4dC5kYXRhLmlzQ2xpY2tlZCA9PT0gdHJ1ZVxuICAgICAgLy8g5aaC5p6c55So5oi35LuK5aSp5bey57uP5b6A5pWw5o2u5bqT6YeM5o+S5YWl5raI5oGv5LqG77yM5q2k5pe25bCx5LiN6IO95YaN5o+S5raI5oGvXG4gICAgKSB7XG4gICAgICAvLyBkYi5jb2xsZWN0aW9uKFwidG9kb2xpc3RcIikuYWRkKHtcbiAgICAgIC8vICAgZGF0YToge1xuICAgICAgLy8gICAgIG9wZW5pZDogX2NvbnRleHQuZGF0YS5hZGRVc2VySW5mbyxcbiAgICAgIC8vICAgICBkb25lOiB0cnVlLFxuICAgICAgLy8gICAgIGN1ckRheTogX2NvbnRleHQuZGF0YS5jdXJEYXksXG4gICAgICAvLyAgIH0sXG4gICAgICAvLyAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIC8vICAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgIC8vICAgICAgIHVybDogXCIuLi9pbmRleC9pbmRleFwiLFxuICAgICAgLy8gICAgIH0pO1xuICAgICAgLy8gICB9LFxuICAgICAgLy8gfSk7XG4gICAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgICAgdXJsOiBcIi4uL2luZGV4L2luZGV4XCIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3guc2hvd01vZGFsKHtcbiAgICAgICAgdGl0bGU6IFwi6YKA6K+356CB5LiN5q2j56Gu77yM6K+36YeN5paw6L6T5YWlXCIsXG4gICAgICAgIHNob3dDYW5jZWw6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufSk7XG4iXX0=